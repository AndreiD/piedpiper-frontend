(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{335:function(t,e,n){"use strict";n(124);var o=n(78);e.a=Object(o.a)("flex")},401:function(t,e,n){"use strict";n.r(e);n(28),n(182);var o={auth:!1,data:function(){return{search:"",isLoading:!0,users:[],selectedUser:null,center:{lat:47.376332,lng:8.547511},infoWindowPos:null,infoWinOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:-35}},markers:[]}},mounted:function(){this.search="",this.loadMapUsers()},methods:{returnToCenter:function(){this.$refs.gMap.map.setCenter(this.locations[0])},toggleInfoWindow:function(marker,t){this.selectedUser=marker,this.infoWindowPos=marker.position,this.infoOptions.content=marker.infoText,this.currentMidx==t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)},goToUser:function(){this.$router.push({path:"/user/"+this.selectedUser.name+"/"+this.selectedUser.id})},loadMapUsers:function(){var t=this;this.$axios.get("/users").then((function(e){t.users=e.data,console.log("this.users :",t.users),t.selectedUser=t.users[0],t.users.forEach((function(e){t.markers.push({id:e._id,position:{lat:e.location.lat,lng:e.location.lng},name:e.first_name+" "+e.last_name,offers:e.offers,optimized:!0,icon:{url:e.pic_url,scaledSize:{height:32,width:32}},infoText:e.first_name+" "+e.last_name})})),t.isLoading=!1,console.log("this.locations :",t.locations)})).catch((function(e){console.log(e),t.isLoading=!1,t.flash(e,"error")}))}}},r=n(21),l=n(73),c=n.n(l),f=n(312),d=n(307),h=n(335),m=n(308),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("section",[n("v-layout",{staticClass:"my-12",attrs:{column:"",wrap:"","align-center":""}},[n("v-flex",{staticClass:"my-4",attrs:{xs12:"",sm4:""}},[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-3"},[t._v("\n            Find an upstacker\n            "),n("span",{staticStyle:{"background-color":"rgba(0,0,0,0.8)",padding:"2px 7px 2px 7px",color:"#fff"}},[t._v("near me")])]),t._v(" "),n("h3",{staticClass:"mt-5"},[t._v("\n            an easy to use location based social network\n          ")])])])],1)],1),t._v(" "),t.isLoading?t._e():n("div",[n("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:""}},[n("GmapMap",{ref:"mapRef",staticStyle:{width:"1200px",height:"1200px"},attrs:{center:{lat:54.52,lng:15.25},zoom:5,"map-type-id":"roadmap",fullscreenControl:"true"}},[t.selectedUser?n("GmapInfoWindow",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen}},[n("p",{staticClass:"title"},[t._v(t._s(t.selectedUser.name))]),t._v(" "),n("p",{staticClass:"subtitle"},[t._v(t._s(t.selectedUser.offers))]),t._v(" "),n("v-btn",{staticClass:"secondary",attrs:{small:""},on:{click:function(e){return t.goToUser()}}},[t._v("chat")])],1):t._e(),t._v(" "),t._l(t.markers,(function(e,o){return n("GmapMarker",{key:o,staticClass:"markerStyle",attrs:{position:e.position,clickable:!0,icon:e.icon,draggable:!1},on:{click:function(n){return t.toggleInfoWindow(e,o)}}})}))],2)],1)],1)])}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:f.a,VContainer:d.a,VFlex:h.a,VLayout:m.a})}}]);